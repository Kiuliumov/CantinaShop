<div class="bg-gray-800 rounded-2xl shadow-md p-4 hover:shadow-lg transition duration-300 flex flex-col">

    {% if product.image_url %}
        <img src="{{ product.image_url }}" alt="{{ product.name }}"
             class="w-full h-48 object-cover rounded-xl mb-3 flex-shrink-0">
    {% endif %}

    <h2 class="text-xl font-semibold text-white mb-1">{{ product.name }}</h2>
    <p class="text-gray-400 text-sm mb-4 flex-grow">{{ product.description|truncatewords:20 }}</p>
    <div class="flex items-center flex-wrap mt-auto justify-between">
        <div class="flex items-center flex-wrap">
            <span class="text-indigo-400 font-bold whitespace-nowrap">${{ product.price }}</span>
            {% if product.has_discount %}
                <span class="ml-2 inline-block bg-yellow-400 text-yellow-900 text-xs font-semibold px-2 py-1 rounded whitespace-nowrap hidden md:inline-block">
                    ðŸ”¥ Discount available!
                </span>
            {% endif %}
        </div>
        <span class="{% if product.is_available %}text-green-400{% else %}text-red-400{% endif %} text-sm whitespace-nowrap">
            {% if product.is_available %}In Stock{% else %}Out of Stock{% endif %}
        </span>
    </div>
    <div class="mt-4 text-center">
        <a href="{% url 'product-details' product.slug %}"
           class="inline-block px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg shadow transition">
            Details
        </a>
    </div>
</div>
